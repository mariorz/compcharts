{
"version":3,
"file":"module$node_modules$$compound_finance$compound_js$dist$nodejs$priceFeed.js",
"lineCount":12,
"mappings":"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",
"sources":["node_modules/@compound-finance/compound-js/dist/nodejs/priceFeed.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$compound_finance$compound_js$dist$nodejs$priceFeed\"] = function(global,require,module,exports) {\n\"use strict\";\n/**\n * @file Price Feed\n * @desc These methods facilitate interactions with the Open Price Feed smart\n *     contracts.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nexports.__esModule = true;\nexports.getPrice = void 0;\nvar eth = require(\"./eth\");\nvar helpers_1 = require(\"./helpers\");\nvar constants_1 = require(\"./constants\");\nfunction validateAsset(asset, argument, errorPrefix) {\n    if (typeof asset !== 'string' || asset.length < 1) {\n        throw Error(errorPrefix + 'Argument `' + argument + '` must be a non-empty string.');\n    }\n    var assetIsCToken = asset[0] === 'c';\n    var cTokenName = assetIsCToken ? asset : 'c' + asset;\n    var cTokenAddress = constants_1.address[this._network.name][cTokenName];\n    var underlyingName = assetIsCToken ? asset.slice(1, asset.length) : asset;\n    var underlyingAddress = constants_1.address[this._network.name][underlyingName];\n    if ((!constants_1.cTokens.includes(cTokenName) || !constants_1.underlyings.includes(underlyingName)) &&\n        !constants_1.opfAssets.includes(underlyingName)) {\n        throw Error(errorPrefix + 'Argument `' + argument + '` is not supported.');\n    }\n    var underlyingDecimals = constants_1.decimals[underlyingName];\n    // The open price feed reveals BTC, not WBTC.\n    underlyingName = underlyingName === 'WBTC' ? 'BTC' : underlyingName;\n    return [assetIsCToken, cTokenName, cTokenAddress, underlyingName, underlyingAddress, underlyingDecimals];\n}\nfunction cTokenExchangeRate(cTokenAddress, cTokenName, underlyingDecimals) {\n    return __awaiter(this, void 0, void 0, function () {\n        var address, method, options, exchangeRateCurrent, mantissa, oneCTokenInUnderlying;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    address = cTokenAddress;\n                    method = 'exchangeRateCurrent';\n                    options = {\n                        _compoundProvider: this._provider,\n                        abi: cTokenName === constants_1.constants.cETH ? constants_1.abi.cEther : constants_1.abi.cErc20\n                    };\n                    return [4 /*yield*/, eth.read(address, method, [], options)];\n                case 1:\n                    exchangeRateCurrent = _a.sent();\n                    mantissa = 18 + underlyingDecimals - 8;\n                    oneCTokenInUnderlying = exchangeRateCurrent / Math.pow(10, mantissa);\n                    return [2 /*return*/, oneCTokenInUnderlying];\n            }\n        });\n    });\n}\n/**\n * Gets an asset's price from the Compound Protocol open price feed. The price\n *    of the asset can be returned in any other supported asset value, including\n *    all cTokens and underlyings.\n *\n * @param {string} asset A string of a supported asset in which to find the\n *     current price.\n * @param {string} [inAsset] A string of a supported asset in which to express\n *     the `asset` parameter's price. This defaults to USD.\n *\n * @returns {string} Returns a string of the numeric value of the asset.\n *\n * @example\n * ```\n * const compound = new Compound(window.ethereum);\n * let price;\n *\n * (async function () {\n *\n *   price = await compound.getPrice(Compound.WBTC);\n *   console.log('WBTC in USD', price); // 6 decimals, see Open Price Feed docs\n *\n *   price = await compound.getPrice(Compound.BAT, Compound.USDC); // supports cTokens too\n *   console.log('BAT in USDC', price);\n *\n * })().catch(console.error);\n * ```\n */\nfunction getPrice(asset, inAsset) {\n    if (inAsset === void 0) { inAsset = constants_1.constants.USDC; }\n    return __awaiter(this, void 0, void 0, function () {\n        var errorPrefix, _a, \n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        assetIsCToken, cTokenName, cTokenAddress, underlyingName, underlyingAddress, underlyingDecimals, _b, \n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        inAssetIsCToken, inAssetCTokenName, inAssetCTokenAddress, inAssetUnderlyingName, inAssetUnderlyingAddress, inAssetUnderlyingDecimals, priceFeedAddress, trxOptions, assetUnderlyingPrice, inAssetUnderlyingPrice, assetCTokensInUnderlying, inAssetCTokensInUnderlying, result, assetInOther, assetInOther, assetInOther, cTokensInUnderlying;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0: return [4 /*yield*/, helpers_1.netId(this)];\n                case 1:\n                    _c.sent();\n                    errorPrefix = 'Compound [getPrice] | ';\n                    _a = validateAsset.bind(this)(asset, 'asset', errorPrefix), assetIsCToken = _a[0], cTokenName = _a[1], cTokenAddress = _a[2], underlyingName = _a[3], underlyingAddress = _a[4], underlyingDecimals = _a[5];\n                    _b = validateAsset.bind(this)(inAsset, 'inAsset', errorPrefix), inAssetIsCToken = _b[0], inAssetCTokenName = _b[1], inAssetCTokenAddress = _b[2], inAssetUnderlyingName = _b[3], inAssetUnderlyingAddress = _b[4], inAssetUnderlyingDecimals = _b[5];\n                    priceFeedAddress = constants_1.address[this._network.name].PriceFeed;\n                    trxOptions = {\n                        _compoundProvider: this._provider,\n                        abi: constants_1.abi.PriceFeed\n                    };\n                    return [4 /*yield*/, eth.read(priceFeedAddress, 'price', [underlyingName], trxOptions)];\n                case 2:\n                    assetUnderlyingPrice = _c.sent();\n                    return [4 /*yield*/, eth.read(priceFeedAddress, 'price', [inAssetUnderlyingName], trxOptions)];\n                case 3:\n                    inAssetUnderlyingPrice = _c.sent();\n                    if (!assetIsCToken) return [3 /*break*/, 5];\n                    return [4 /*yield*/, cTokenExchangeRate.bind(this)(cTokenAddress, cTokenName, underlyingDecimals)];\n                case 4:\n                    assetCTokensInUnderlying = _c.sent();\n                    _c.label = 5;\n                case 5:\n                    if (!inAssetIsCToken) return [3 /*break*/, 7];\n                    return [4 /*yield*/, cTokenExchangeRate.bind(this)(inAssetCTokenAddress, inAssetCTokenName, inAssetUnderlyingDecimals)];\n                case 6:\n                    inAssetCTokensInUnderlying = _c.sent();\n                    _c.label = 7;\n                case 7:\n                    if (!assetIsCToken && !inAssetIsCToken) {\n                        result = assetUnderlyingPrice / inAssetUnderlyingPrice;\n                    }\n                    else if (assetIsCToken && !inAssetIsCToken) {\n                        assetInOther = assetUnderlyingPrice / inAssetUnderlyingPrice;\n                        result = assetInOther * assetCTokensInUnderlying;\n                    }\n                    else if (!assetIsCToken && inAssetIsCToken) {\n                        assetInOther = assetUnderlyingPrice / inAssetUnderlyingPrice;\n                        result = assetInOther / inAssetCTokensInUnderlying;\n                    }\n                    else {\n                        assetInOther = assetUnderlyingPrice / inAssetUnderlyingPrice;\n                        cTokensInUnderlying = assetInOther / assetCTokensInUnderlying;\n                        result = inAssetCTokensInUnderlying * cTokensInUnderlying;\n                    }\n                    return [2 /*return*/, result];\n            }\n        });\n    });\n}\nexports.getPrice = getPrice;\n//# sourceMappingURL=priceFeed.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","validateAsset","asset","argument","errorPrefix","length","Error","assetIsCToken","cTokenName","cTokenAddress","constants_1","address","_network","name","underlyingName","slice","underlyingAddress","cTokens","includes","underlyings","opfAssets","underlyingDecimals","decimals","cTokenExchangeRate","__awaiter","options","exchangeRateCurrent","mantissa","oneCTokenInUnderlying","__generator","_a","label","_compoundProvider","_provider","abi","constants","cETH","cEther","cErc20","eth","read","method","sent","Math","pow","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","body","verb","n","v","op","f","TypeError","_","y","t","call","ops","pop","trys","push","g","Symbol","iterator","__esModule","getPrice","helpers_1","inAsset","USDC","_b","inAssetIsCToken","inAssetCTokenName","inAssetCTokenAddress","inAssetUnderlyingName","inAssetUnderlyingDecimals","priceFeedAddress","trxOptions","assetUnderlyingPrice","inAssetUnderlyingPrice","assetCTokensInUnderlying","inAssetCTokensInUnderlying","assetInOther","cTokensInUnderlying","_c","netId","bind","PriceFeed"]
}
